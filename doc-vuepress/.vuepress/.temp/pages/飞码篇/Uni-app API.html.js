import comp from "/Users/guoguo/code/my-project/guoguo-notes/doc-vuepress/.vuepress/.temp/pages/飞码篇/Uni-app API.html.vue"
const data = JSON.parse("{\"path\":\"/%E9%A3%9E%E7%A0%81%E7%AF%87/Uni-app%20API.html\",\"title\":\"Uni-app API\",\"lang\":\"zh-CN\",\"frontmatter\":{\"title\":\"Uni-app API\",\"date\":\"2022-08-04T00:00:00.000Z\",\"tags\":[\"uniapp\",\"API\"],\"categories\":[\"飞码篇\"]},\"headers\":[{\"level\":2,\"title\":\"最新uniapp登录逻辑\",\"slug\":\"最新uniapp登录逻辑\",\"link\":\"#最新uniapp登录逻辑\",\"children\":[{\"level\":3,\"title\":\"调用接口\",\"slug\":\"调用接口\",\"link\":\"#调用接口\",\"children\":[]},{\"level\":3,\"title\":\"uni.getUserProfile(OBJECT)--获取用户信息\",\"slug\":\"uni-getuserprofile-object-获取用户信息\",\"link\":\"#uni-getuserprofile-object-获取用户信息\",\"children\":[]},{\"level\":3,\"title\":\"将内容复制到剪贴板\",\"slug\":\"将内容复制到剪贴板\",\"link\":\"#将内容复制到剪贴板\",\"children\":[]},{\"level\":3,\"title\":\"将图片保存到本地\",\"slug\":\"将图片保存到本地\",\"link\":\"#将图片保存到本地\",\"children\":[]},{\"level\":3,\"title\":\"长按图片可以保存，收藏，发送给朋友\",\"slug\":\"长按图片可以保存-收藏-发送给朋友\",\"link\":\"#长按图片可以保存-收藏-发送给朋友\",\"children\":[]},{\"level\":3,\"title\":\"长按保存图片\",\"slug\":\"长按保存图片\",\"link\":\"#长按保存图片\",\"children\":[]},{\"level\":3,\"title\":\"将服务器文件保存到本地 [有转发、浮窗、选择其他应用打开、收藏、保存到手机]\",\"slug\":\"将服务器文件保存到本地-有转发、浮窗、选择其他应用打开、收藏、保存到手机\",\"link\":\"#将服务器文件保存到本地-有转发、浮窗、选择其他应用打开、收藏、保存到手机\",\"children\":[]},{\"level\":3,\"title\":\"上传文件\",\"slug\":\"上传文件\",\"link\":\"#上传文件\",\"children\":[]},{\"level\":3,\"title\":\"拍照并上传图片\",\"slug\":\"拍照并上传图片\",\"link\":\"#拍照并上传图片\",\"children\":[]},{\"level\":3,\"title\":\"值存入缓存\",\"slug\":\"值存入缓存\",\"link\":\"#值存入缓存\",\"children\":[]},{\"level\":3,\"title\":\"获取缓存中的 token 值\",\"slug\":\"获取缓存中的-token-值\",\"link\":\"#获取缓存中的-token-值\",\"children\":[]},{\"level\":3,\"title\":\"地理位置 api 不能使用\",\"slug\":\"地理位置-api-不能使用\",\"link\":\"#地理位置-api-不能使用\",\"children\":[]},{\"level\":3,\"title\":\"获取地理位置\",\"slug\":\"获取地理位置\",\"link\":\"#获取地理位置\",\"children\":[]},{\"level\":3,\"title\":\"打开分享图片弹窗，可以将图片发送给朋友、收藏或下载\",\"slug\":\"打开分享图片弹窗-可以将图片发送给朋友、收藏或下载\",\"link\":\"#打开分享图片弹窗-可以将图片发送给朋友、收藏或下载\",\"children\":[]},{\"level\":3,\"title\":\"分享一个 类似于推文的\",\"slug\":\"分享一个-类似于推文的\",\"link\":\"#分享一个-类似于推文的\",\"children\":[]},{\"level\":3,\"title\":\"调用相机或本机相册的API\",\"slug\":\"调用相机或本机相册的api\",\"link\":\"#调用相机或本机相册的api\",\"children\":[]}]},{\"level\":2,\"title\":\"消息提示框\",\"slug\":\"消息提示框\",\"link\":\"#消息提示框\",\"children\":[]},{\"level\":2,\"title\":\"弹出框 uni-ui\",\"slug\":\"弹出框-uni-ui\",\"link\":\"#弹出框-uni-ui\",\"children\":[]},{\"level\":2,\"title\":\"弹出框 代码式\",\"slug\":\"弹出框-代码式\",\"link\":\"#弹出框-代码式\",\"children\":[]},{\"level\":2,\"title\":\"动态修改 uniapp 的导航栏标题\",\"slug\":\"动态修改-uniapp-的导航栏标题\",\"link\":\"#动态修改-uniapp-的导航栏标题\",\"children\":[]},{\"level\":2,\"title\":\"是否下拉刷新\",\"slug\":\"是否下拉刷新\",\"link\":\"#是否下拉刷新\",\"children\":[]},{\"level\":2,\"title\":\"添加右上角的发送给朋友\",\"slug\":\"添加右上角的发送给朋友\",\"link\":\"#添加右上角的发送给朋友\",\"children\":[]},{\"level\":2,\"title\":\"长按震动\",\"slug\":\"长按震动\",\"link\":\"#长按震动\",\"children\":[]},{\"level\":2,\"title\":\"图片点击放大\",\"slug\":\"图片点击放大\",\"link\":\"#图片点击放大\",\"children\":[]}],\"git\":{\"updatedTime\":1727229103000,\"contributors\":[{\"name\":\"袁果锅\",\"email\":\"2914310412@qq.com\",\"commits\":1}]},\"filePathRelative\":\"飞码篇/Uni-app API.md\",\"excerpt\":\"<h2>最新uniapp登录逻辑</h2>\\n<div class=\\\"language-vue\\\" data-highlighter=\\\"prismjs\\\" data-ext=\\\"vue\\\" data-title=\\\"vue\\\"><pre class=\\\"language-vue\\\"><code><span class=\\\"line\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>template</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>view</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>form</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>avatar-wrapper<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">open-type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>chooseAvatar<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">@chooseavatar</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>onChooseAvatar<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>image</span> <span class=\\\"token attr-name\\\">class</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>avatar<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">:src</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>avatarUrl<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">&gt;</span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>image</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>input</span> <span class=\\\"token attr-name\\\">type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>nickname<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">@blur</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>getnickname<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">placeholder</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>请输入昵称<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token punctuation\\\">/&gt;</span></span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">@click</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation attr-equals\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>submit<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">&gt;</span></span> 提交 <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>form</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\">  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>view</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>template</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>script</span><span class=\\\"token punctuation\\\">&gt;</span></span><span class=\\\"token script\\\"><span class=\\\"token language-javascript\\\"></span>\\n<span class=\\\"line\\\">  <span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token function\\\">data</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token literal-property property\\\">avatarUrl</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">'https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0'</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token literal-property property\\\">nickname</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"\\\"</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token literal-property property\\\">methods</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token function\\\">onChooseAvatar</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">e</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>avatarUrl <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>detail<span class=\\\"token punctuation\\\">.</span>avatarUrl</span>\\n<span class=\\\"line\\\">      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token function\\\">getnickname</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">e</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>nickname <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>detail<span class=\\\"token punctuation\\\">.</span>value</span>\\n<span class=\\\"line\\\">      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token function\\\">getDataTime</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token comment\\\">// 得到时间参数</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">timestampToTime</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">timestamp</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> date <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Date</span><span class=\\\"token punctuation\\\">(</span>timestamp<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//时间戳为10位需*1000，时间戳为13位的话不需乘1000</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> <span class=\\\"token constant\\\">Y</span> <span class=\\\"token operator\\\">=</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getFullYear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">'-'</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> <span class=\\\"token constant\\\">M</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMonth</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'0'</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMonth</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">:</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMonth</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">'-'</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> <span class=\\\"token constant\\\">D</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'0'</span> <span class=\\\"token operator\\\">+</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">:</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">' '</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> h <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getHours</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'0'</span> <span class=\\\"token operator\\\">+</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getHours</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">:</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getHours</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">':'</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> m <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMinutes</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'0'</span> <span class=\\\"token operator\\\">+</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMinutes</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">:</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMinutes</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">':'</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">var</span> s <span class=\\\"token operator\\\">=</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getSeconds</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'0'</span> <span class=\\\"token operator\\\">+</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getSeconds</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">:</span> date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getSeconds</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token constant\\\">Y</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token constant\\\">M</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token constant\\\">D</span> <span class=\\\"token operator\\\">+</span> h <span class=\\\"token operator\\\">+</span> m <span class=\\\"token operator\\\">+</span> s<span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">var</span> timestamp <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">parse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Date</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">timestampToTime</span><span class=\\\"token punctuation\\\">(</span>timestamp<span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token function\\\">submit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">        <span class=\\\"token keyword\\\">const</span> db <span class=\\\"token operator\\\">=</span> wx<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">database</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">        db<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'userInfo'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">add</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">            <span class=\\\"token literal-property property\\\">data</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token literal-property property\\\">dateTime</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getDataTime</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token literal-property property\\\">headUrl</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>avatarUrl<span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token literal-property property\\\">nickName</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>nickname</span>\\n<span class=\\\"line\\\">            <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">            console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">            <span class=\\\"token keyword\\\">const</span> db <span class=\\\"token operator\\\">=</span> wx<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">database</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">            db<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'userInfo'</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">doc</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">.</span>_id<span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token keyword\\\">const</span> lsData <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">userInfo</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token literal-property property\\\">avatarUrl</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>avatarUrl<span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token literal-property property\\\">nickName</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>nickname</span>\\n<span class=\\\"line\\\">                  <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">                uni<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setStorage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">key</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">'OpenId'</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">data</span><span class=\\\"token operator\\\">:</span> res<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>_openid<span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token function-variable function\\\">success</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  \\t\\tconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'OpenId___success'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">                  \\t<span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">                uni<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setStorage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">key</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">'infoRes'</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">data</span><span class=\\\"token operator\\\">:</span>lsData<span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token function-variable function\\\">success</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  \\t\\tconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'infoRes___success'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">                  \\t<span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token keyword\\\">const</span> db <span class=\\\"token operator\\\">=</span> wx<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">database</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">                db<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'userInfo'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">where</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">_openid</span><span class=\\\"token operator\\\">:</span> res<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>_openid<span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token literal-property property\\\">dateTime</span><span class=\\\"token operator\\\">:</span> db<span class=\\\"token punctuation\\\">.</span>command<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">neq</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>dateTime<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">remove</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\">                  uni<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">showToast</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token literal-property property\\\">title</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"登陆成功\\\"</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token literal-property property\\\">duration</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token number\\\">1500</span><span class=\\\"token punctuation\\\">,</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token function-variable function\\\">success</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                      uni<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">switchTab</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span></span>\\n<span class=\\\"line\\\">                        <span class=\\\"token literal-property property\\\">url</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">'/pages/index/index'</span></span>\\n<span class=\\\"line\\\">                      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">                    <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">                  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">                <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">              <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\">          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\">        console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>avatarUrl<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">        console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>nickname<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></span>\\n<span class=\\\"line\\\">      <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">    <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\">  <span class=\\\"token punctuation\\\">}</span></span>\\n<span class=\\\"line\\\"></span></span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>script</span><span class=\\\"token punctuation\\\">&gt;</span></span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span></code></pre></div>\"}")
export { comp, data }
